---
---
<div class="contact-container m-5 px-5 pt-5 grid rounded-md bg-white border-4 border-black shadow-black shadow-lg">
    <form id="contact-form" class="grid gap-4">
        <label>Name</label>
        <input class="m-5 h-10 rounded-md border-black border-4" type="text" name="user_name">
        <label>Email</label>
        <input class="m-5 h-10 rounded-md border-black border-4" type="email" name="user_email">
        <label>Message</label>
        <textarea class="m-5 h-40 rounded-md border-black border-4" name="message"></textarea>
        <input class="m-5 h-10 rounded-md border-black border-4 hover:bg-slate-200" type="submit" value="Send">
    </form>
    <p id="status"></p>
</div>

<script>
    import emailjs from '@emailjs/browser'
    window.onload = function() {
            emailjs.init({
              publicKey: 'zB2S6YhfIovzRCaUq',
            });
            document.getElementById('contact-form')?.addEventListener('submit', function(event) {
                event.preventDefault();
                const statusElement = document.getElementById('status');
                if (statusElement) {
                    statusElement.textContent = 'Sending...';
                }
                // these IDs from the previous steps
                const formElement = document.getElementById('contact-form') as HTMLFormElement;
                emailjs.sendForm('contact_service', 'contact_form', formElement)
                    .then(() => {
                        const statusElement = document.getElementById('status');
                        if (statusElement) {
                            statusElement.textContent = 'Email sent successfully!';
                            statusElement.classList.add('m-5');
                        }
                        const contactForm = document.getElementById('contact-form') as HTMLFormElement;
                        contactForm?.reset();
                    }, (error: any) => {
                        const statusElement = document.getElementById('status');
                        if(statusElement) {
                            statusElement.textContent = 'Something went wrong! Please try again.'
                        }
                    });
            });
        }
</script>